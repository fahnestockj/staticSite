<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>GraphQL and REST | Fahnestockj</title>
<meta name="keywords" content="" />
<meta name="description" content="What is REST? Representation State Transfer an architectural style for APIs which aims to be lightweight, scalable, and flexible. RESTful API&rsquo;s follow this style by setting constraints like:
clients and servers communicate resources with HTTP requests requests should be stateless meaning they only using the information on the request to determine the response What is GraphQL? GraphQL is a widely used query language for APIs which treats the data as a graph of relationships rather than a more &ldquo;linear&rdquo; collection of data.">
<meta name="author" content="">
<link rel="canonical" href="https://fahnestockj.com/posts/graphql_rest/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css" integrity="sha256-yIlj/i15RiAA/Q&#43;xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.e85ad0406048e8176e1c7661b25d5c69297ddfe41dc4124cf75ecb99a4f7b3d1.js" integrity="sha256-6FrQQGBI6BduHHZhsl1caSl93&#43;QdxBJM917LmaT3s9E="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://fahnestockj.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://fahnestockj.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://fahnestockj.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://fahnestockj.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://fahnestockj.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.101.0" />
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-215231859-1', 'auto');
	
	ga('send', 'pageview');
}
</script><meta property="og:title" content="GraphQL and REST" />
<meta property="og:description" content="What is REST? Representation State Transfer an architectural style for APIs which aims to be lightweight, scalable, and flexible. RESTful API&rsquo;s follow this style by setting constraints like:
clients and servers communicate resources with HTTP requests requests should be stateless meaning they only using the information on the request to determine the response What is GraphQL? GraphQL is a widely used query language for APIs which treats the data as a graph of relationships rather than a more &ldquo;linear&rdquo; collection of data." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://fahnestockj.com/posts/graphql_rest/" /><meta property="og:image" content="https://fahnestockj.com/papermod-cover.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-05T10:44:54-05:00" />
<meta property="article:modified_time" content="2022-03-05T10:44:54-05:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://fahnestockj.com/papermod-cover.png"/>

<meta name="twitter:title" content="GraphQL and REST"/>
<meta name="twitter:description" content="What is REST? Representation State Transfer an architectural style for APIs which aims to be lightweight, scalable, and flexible. RESTful API&rsquo;s follow this style by setting constraints like:
clients and servers communicate resources with HTTP requests requests should be stateless meaning they only using the information on the request to determine the response What is GraphQL? GraphQL is a widely used query language for APIs which treats the data as a graph of relationships rather than a more &ldquo;linear&rdquo; collection of data."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://fahnestockj.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "GraphQL and REST",
      "item": "https://fahnestockj.com/posts/graphql_rest/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "GraphQL and REST",
  "name": "GraphQL and REST",
  "description": "What is REST? Representation State Transfer an architectural style for APIs which aims to be lightweight, scalable, and flexible. RESTful API\u0026rsquo;s follow this style by setting constraints like:\nclients and servers communicate resources with HTTP requests requests should be stateless meaning they only using the information on the request to determine the response What is GraphQL? GraphQL is a widely used query language for APIs which treats the data as a graph of relationships rather than a more \u0026ldquo;linear\u0026rdquo; collection of data.",
  "keywords": [
    
  ],
  "articleBody": " What is REST? Representation State Transfer an architectural style for APIs which aims to be lightweight, scalable, and flexible. RESTful API‚Äôs follow this style by setting constraints like:\nclients and servers communicate resources with HTTP requests requests should be stateless meaning they only using the information on the request to determine the response What is GraphQL? GraphQL is a widely used query language for APIs which treats the data as a graph of relationships rather than a more ‚Äúlinear‚Äù collection of data.\nExample using the JSON API Specification Lets put together a basic blog app with the following mockup:\nLets define a couple resource objects for this blog app.\n//post1 Resource Object { id: 'post1', type: 'posts', attributes: { title: 'Lorem' content: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit' }, relationships: { user: { data: { id: 'user1', type: 'users' } } } } //user1 Resource Object { id: 'user1', type: 'users', attributes: { name: 'bot1' }, relationships: { organization: { data: { id: 'organization1', type: 'organizations' } }, posts: { data: [ { id: 'post1', type: 'posts' } ] } } } //organization1 Resource Object { id: 'organization1', type: 'organizations', attributes: { title: 'BotFarm Inc', description: '¬©2022 Farm Bots at BotFarm ü§†', lotsOfData: { //a lot of data } }, relationships: { users: { data: [ { id: 'user1', type: 'users' } ] } } } In order to fetch the necessary info to display the page from the mockups all three resources need to be fetched individually.\n//Restful endpoints //api/v1/posts/post1 //api/v1/users/user1 //api/v1/organizations/organization1 const post1 = await fetch('/api/v1/posts/post1') .then(res =\u003e res.json()) const user1 = await fetch(`/api/v1/users/${post1.relationships.user.data.id}`) .then(res =\u003e res.json()) const organization1 = await fetch(`/api/v1/organizations/${user1.relationships.organization.data.id}`) .then(res =\u003e res.json()) //now we can finally render the page 1\nNotice:\nthe chain of requests needed on the frontend to fetch the required data\nthe waste of the fetched data which isn‚Äôt displayed (organization1‚Äôs lotsOfData property)\nthe performance slowdown of waiting on each http request to complete before starting the next\nThese problems make it difficult to efficiently display data from multiple resources on one page.\nIntroducing GraphQL GraphQL remedies these problems by adding a layer of abstraction over traditional HTTP requests. With a fully fledged GraphQL schema only one api endpoint is needed to gather all the data you need. Requests are customized using the query language to tailor fit the data you need cutting away the bloat. The schema enforces types, and creates an interface layer between the frontend and backend.\nMany graphQL tutorials push for schema driven development which enables both frontend and backend development to happen asynchronously once the schema has been agreed upon.\nResolvers GraphQL is able to offer the flexibility of querying individual properties of each resource by requiring you to write resolvers for each property. Here‚Äôs the basic layout of a resolver:\nfieldName: (parent, args, context, info) =\u003e data; //parent: allows you to access the value from return of the parent resources resolver //context: shareable information across the current operation (usually authentication for reads and writes) When you create a GraphQL query or mutation the server fulfills the request by calling all the related resolvers and only returning once the resolvers resolve.\nTradeoffs The primary issue for these resolvers is setting up effective caching. Since all requests are through POST normal HTTP caching isn‚Äôt available. Through some shenanigans you can use GET, but it adds complexity.\nAbstraction in Software Abstraction in software lives on a spectrum between being useful and flexible. Generally frameworks tend towards being as flexible as possible while a package like dayJS tend towards being useful for a specific use case. React is an example of a very flexible framework which has spawned other frameworks just to enforce more opinionated useful features for example Vercel‚Äôs NextJS. Learn more about the spectrum here!\nRelating this back to the API structures REST is a very flexible architecture which enforces minimal standards and focuses on remaining scalable. GraphQL enforces some very useful patterns like having a central typesafe schema and involving the relationships of resources in the fetching process. For these benefits it loses flexibility such as HTTP caching, and the required format of resolvers.\nFetch is soon to be a part of Nodejs and the built in http module can no longer keep me up at night and ruin my technical interviews üôè.¬†‚Ü©Ô∏é\n",
  "wordCount" : "718",
  "inLanguage": "en",
  "datePublished": "2022-03-05T10:44:54-05:00",
  "dateModified": "2022-03-05T10:44:54-05:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://fahnestockj.com/posts/graphql_rest/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Fahnestockj",
    "logo": {
      "@type": "ImageObject",
      "url": "https://fahnestockj.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://fahnestockj.com" accesskey="h" title="Fahnestockj (Alt + H)">Fahnestockj</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://fahnestockj.com/posts" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="https://fahnestockj.com/projects" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://fahnestockj.com">Home</a>&nbsp;¬ª&nbsp;<a href="https://fahnestockj.com/posts/">Posts</a></div>
    <h1 class="post-title">
      GraphQL and REST
    </h1>
    <div class="post-meta"><span title='2022-03-05 10:44:54 -0500 EST'>March 5, 2022</span>&nbsp;¬∑&nbsp;4 min

</div>
  </header> 
  <div class="post-content"><blockquote>
<h2 id="what-is-rest">What is REST?<a hidden class="anchor" aria-hidden="true" href="#what-is-rest">#</a></h2>
</blockquote>
<p>Representation State Transfer an architectural style for APIs which aims to be lightweight, scalable, and flexible. RESTful API&rsquo;s follow this style by setting constraints like:</p>
<ul>
<li>clients and servers communicate resources with HTTP requests</li>
<li>requests should be stateless meaning they only using the information on the request to determine the response</li>
</ul>
<blockquote>
<h2 id="what-is-graphql">What is GraphQL?<a hidden class="anchor" aria-hidden="true" href="#what-is-graphql">#</a></h2>
</blockquote>
<p>GraphQL is a widely used query language for APIs which treats the data as a graph of relationships rather than a more &ldquo;linear&rdquo; collection of data.</p>
<h3 id="example-using-the-json-api-specificationhttpsjsonapiorg">Example using the <a href="https://jsonapi.org/">JSON API Specification</a><a hidden class="anchor" aria-hidden="true" href="#example-using-the-json-api-specificationhttpsjsonapiorg">#</a></h3>
<p>Lets put together a basic blog app with the following mockup:</p>
<p><img loading="lazy" src="https://climapp.nyc3.digitaloceanspaces.com/OtherImages/post.jpg" alt="post"  />
</p>
<p>Lets define a couple resource objects for this blog app.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>  <span style="color:#75715e">//post1 Resource Object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;post1&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;posts&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">attributes</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Lorem&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Lorem ipsum dolor sit amet, consectetur adipiscing elit&#39;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">relationships</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">user</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;user1&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;users&#39;</span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">//user1 Resource Object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;user1&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;users&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">attributes</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;bot1&#39;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">relationships</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">organization</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;organization1&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;organizations&#39;</span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">posts</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;post1&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;posts&#39;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      ]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">//organization1 Resource Object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;organization1&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;organizations&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">attributes</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;BotFarm Inc&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">description</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;¬©2022 Farm Bots at BotFarm ü§†&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">lotsOfData</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//a lot of data
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">relationships</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">users</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;user1&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;users&#39;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      ]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>In order to fetch the necessary info to display the page from the mockups all three resources need to be fetched individually.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#75715e">//Restful endpoints
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//api/v1/posts/post1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//api/v1/users/user1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//api/v1/organizations/organization1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">post1</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">&#39;/api/v1/posts/post1&#39;</span>)
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">res</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">json</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">user1</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">`/api/v1/users/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">post1</span>.<span style="color:#a6e22e">relationships</span>.<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">res</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">json</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">organization1</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">`/api/v1/organizations/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">user1</span>.<span style="color:#a6e22e">relationships</span>.<span style="color:#a6e22e">organization</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">res</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">json</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">//now we can finally render the page
</span></span></span></code></pre></div><p><sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<p>Notice:</p>
<ul>
<li>
<p>the chain of requests needed on the frontend to fetch the required data</p>
</li>
<li>
<p>the waste of the fetched data which isn&rsquo;t displayed (organization1&rsquo;s lotsOfData property)</p>
</li>
<li>
<p>the performance slowdown of waiting on each http request to complete before starting the next</p>
</li>
</ul>
<p>These problems make it difficult to efficiently display data from multiple resources on one page.</p>
<h3 id="introducing-graphql">Introducing GraphQL<a hidden class="anchor" aria-hidden="true" href="#introducing-graphql">#</a></h3>
<p>GraphQL remedies these problems by adding a layer of abstraction over traditional HTTP requests. With a fully fledged GraphQL schema only one api endpoint is needed to gather all the data you need. Requests are customized using the query language to tailor fit the data you need cutting away the bloat. The schema enforces types, and creates an interface layer between the frontend and backend.</p>
<p>Many graphQL tutorials push for <a href="https://blog.logrocket.com/code-first-vs-schema-first-development-graphql/">schema driven development</a> which enables both frontend and backend development to happen asynchronously once the schema has been agreed upon.</p>
<h3 id="resolvers">Resolvers<a hidden class="anchor" aria-hidden="true" href="#resolvers">#</a></h3>
<p>GraphQL is able to offer the flexibility of querying individual properties of each resource by requiring you to write resolvers for each property. Here&rsquo;s the basic layout of a resolver:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">fieldName</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">parent</span>, <span style="color:#a6e22e">args</span>, <span style="color:#a6e22e">context</span>, <span style="color:#a6e22e">info</span>) =&gt; <span style="color:#a6e22e">data</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//parent: allows you to access the value from return of the parent resources resolver
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//context: shareable information across the current operation (usually authentication for reads and writes)
</span></span></span></code></pre></div><p>When you create a GraphQL query or mutation the server fulfills the request by calling all the related resolvers and only returning once the resolvers <strong>resolve.</strong></p>
<h3 id="tradeoffs">Tradeoffs<a hidden class="anchor" aria-hidden="true" href="#tradeoffs">#</a></h3>
<p>The primary issue for these resolvers is setting up effective caching. Since all requests are through POST normal HTTP caching isn&rsquo;t available. Through some <a href="https://blog.logrocket.com/http-caching-graphql/">shenanigans</a> you can use GET, but it adds complexity.</p>
<h3 id="abstraction-in-software">Abstraction in Software<a hidden class="anchor" aria-hidden="true" href="#abstraction-in-software">#</a></h3>
<p>Abstraction in software lives on a spectrum between being useful and flexible. Generally frameworks tend towards being as flexible as possible while a package like dayJS tend towards being useful for a specific use case. React is an example of a very flexible framework which has spawned other frameworks just to enforce more opinionated useful features for example Vercel&rsquo;s NextJS. <a href="https://youtu.be/mVVNJKv9esE">Learn more about the spectrum here!</a></p>
<p>Relating this back to the API structures REST is a very flexible architecture which enforces minimal standards and focuses on remaining scalable. GraphQL enforces some very useful patterns like having a central typesafe schema and involving the relationships of resources in the fetching process. For these benefits it loses flexibility such as HTTP caching, and the required format of resolvers.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Fetch is <a href="https://news.ycombinator.com/item?id=30161626">soon to be a part of Nodejs</a> and the built in http module can no longer keep me up at night and ruin my technical interviews üôè.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="https://fahnestockj.com/posts/abstractioninsoftware/">
    <span class="title">¬´ Prev Page</span>
    <br>
    <span>Abstraction in Software</span>
  </a>
  <a class="next" href="https://fahnestockj.com/posts/immutability/">
    <span class="title">Next Page ¬ª</span>
    <br>
    <span>Immutability and React!</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://fahnestockj.com">Fahnestockj</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
